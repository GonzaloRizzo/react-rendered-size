{"code":"/* globals document */\r\n// constants\r\nimport { DEFAULT_CONTAINER_ELEMENT } from './constants';\r\n// element\r\nimport { getMainContainer, getNewContainer, getRenderedElement, } from './element';\r\nvar mainContainer;\r\n/**\r\n * @function getRenderedSize\r\n *\r\n * @description\r\n * get the rendered height and width of the ReactElement passed based on a given containerWidth\r\n *\r\n * @param {ReactElement} element the element to get the rendered size of\r\n * @param {number} containerWidth the width in pixels of the container to render in\r\n * @param {Object} [containerOptions={}] additional options for generating the container\r\n * @returns {{height: number, width: number}} the size of the rendered ReactElement\r\n */\r\nexport var getRenderedSize = function (element, containerWidth, containerOptions) {\r\n    if (containerOptions === void 0) { containerOptions = {}; }\r\n    var container = containerOptions.container, _a = containerOptions.type, type = _a === void 0 ? DEFAULT_CONTAINER_ELEMENT : _a;\r\n    var doc = containerOptions.doc;\r\n    if (!doc) {\r\n        if (typeof document === 'undefined') {\r\n            // this may be happening in an SSR mount, so return default values\r\n            // instead of throwing error\r\n            return Promise.resolve({\r\n                height: 0,\r\n                width: 0,\r\n            });\r\n        }\r\n        doc = document;\r\n    }\r\n    if (!mainContainer) {\r\n        mainContainer = getMainContainer(doc);\r\n        doc.body.appendChild(mainContainer);\r\n    }\r\n    var renderContainer = getNewContainer(doc, type, container, containerWidth || doc.documentElement.clientWidth);\r\n    mainContainer.appendChild(renderContainer);\r\n    return getRenderedElement(renderContainer, element)\r\n        .catch(function (error) {\r\n        if (typeof console !== 'undefined') {\r\n            // eslint-disable-next-line no-console\r\n            console.error(error);\r\n        }\r\n        return {\r\n            offsetHeight: 0,\r\n            offsetWidth: 0,\r\n        };\r\n    })\r\n        .then(function (renderedElement) {\r\n        var size = {\r\n            height: renderedElement ? renderedElement.offsetHeight : 0,\r\n            width: renderedElement ? renderedElement.offsetWidth : 0,\r\n        };\r\n        mainContainer.removeChild(renderContainer);\r\n        return size;\r\n    });\r\n};\r\nexport var createGetRenderedValue = function (value) { return function (element, containerWidth, containerOptions) {\r\n    if (containerOptions === void 0) { containerOptions = {}; }\r\n    return getRenderedSize(element, containerWidth, containerOptions).then(function (size) { return size[value]; });\r\n}; };\r\n/**\r\n * @function getRenderedHeight\r\n *\r\n * @description\r\n * shortcut method to get only the height property from getRenderedSize\r\n *\r\n * @returns {number} the rendered height\r\n */\r\nexport var getRenderedHeight = createGetRenderedValue('height');\r\n/**\r\n * @function getRenderedWidth\r\n *\r\n * @description\r\n * shortcut method to get only the width property from getRenderedSize\r\n *\r\n * @param {...Array<*>} args the arguments to pass to getRenderedSize\r\n * @returns {number} the rendered width\r\n */\r\nexport var getRenderedWidth = createGetRenderedValue('width');\r\n//# sourceMappingURL=index.js.map","map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/index.ts\"],\"names\":[],\"mappings\":\"AAAA,sBAAsB;AAKtB,YAAY;AACZ,OAAO,EAAE,yBAAyB,EAAE,MAAM,aAAa,CAAC;AAExD,UAAU;AACV,OAAO,EACL,gBAAgB,EAChB,eAAe,EACf,kBAAkB,GACnB,MAAM,WAAW,CAAC;AAEnB,IAAI,aAA6B,CAAC;AAElC;;;;;;;;;;GAUG;AACH,MAAM,CAAC,IAAM,eAAe,GAAG,UAC7B,OAA0B,EAC1B,cAAgC,EAChC,gBAAyD;IAAzD,iCAAA,EAAA,qBAAyD;IAEjD,IAAA,sCAAS,EAAE,0BAAgC,EAAhC,qDAAgC,CAAsB;IAEnE,IAAA,0BAAG,CAAsB;IAE/B,IAAI,CAAC,GAAG,EAAE;QACR,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;YACnC,kEAAkE;YAClE,4BAA4B;YAC5B,OAAO,OAAO,CAAC,OAAO,CAAC;gBACrB,MAAM,EAAE,CAAC;gBACT,KAAK,EAAE,CAAC;aACT,CAAC,CAAC;SACJ;QAED,GAAG,GAAG,QAAQ,CAAC;KAChB;IAED,IAAI,CAAC,aAAa,EAAE;QAClB,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;QAEtC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KACrC;IAED,IAAM,eAAe,GAAG,eAAe,CACrC,GAAG,EACH,IAAI,EACJ,SAAS,EACT,cAAc,IAAI,GAAG,CAAC,eAAe,CAAC,WAAW,CAClD,CAAC;IAEF,aAAa,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;IAE3C,OAAO,kBAAkB,CAAC,eAAe,EAAE,OAAO,CAAC;SAChD,KAAK,CAAC,UAAC,KAAK;QACX,IAAI,OAAO,OAAO,KAAK,WAAW,EAAE;YAClC,sCAAsC;YACtC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACtB;QAED,OAAO;YACL,YAAY,EAAE,CAAC;YACf,WAAW,EAAE,CAAC;SACf,CAAC;IACJ,CAAC,CAAC;SACD,IAAI,CAAC,UAAC,eAAmC;QACxC,IAAM,IAAI,GAAG;YACX,MAAM,EAAE,eAAe,CAAC,CAAC,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC1D,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;SACzD,CAAC;QAEF,aAAa,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;QAE3C,OAAO,IAAI,CAAC;IACd,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AAEF,MAAM,CAAC,IAAM,sBAAsB,GAAG,UAAC,KAAmC,IAAK,OAAA,UAC7E,OAA0B,EAC1B,cAAgC,EAChC,gBAAyD;IAAzD,iCAAA,EAAA,qBAAyD;IAEzD,OAAA,eAAe,CAAC,OAAO,EAAE,cAAc,EAAE,gBAAgB,CAAC,CAAC,IAAI,CAC7D,UAAC,IAA4B,IAAK,OAAA,IAAI,CAAC,KAAK,CAAC,EAAX,CAAW,CAC9C;AAFD,CAEC,EAP4E,CAO5E,CAAC;AAEJ;;;;;;;GAOG;AACH,MAAM,CAAC,IAAM,iBAAiB,GAAG,sBAAsB,CAAC,QAAQ,CAAC,CAAC;AAElE;;;;;;;;GAQG;AACH,MAAM,CAAC,IAAM,gBAAgB,GAAG,sBAAsB,CAAC,OAAO,CAAC,CAAC\"}"}
